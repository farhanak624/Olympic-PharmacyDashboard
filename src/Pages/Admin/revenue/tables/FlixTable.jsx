import React from "react";

function FlixTable({ data, loading }) {
  function formatDate(dateString) {
    const date = new Date(dateString);
    const day = date.getDate();
    const month = date.getMonth() + 1;
    const year = date.getFullYear();

    return `${day}-${month}-${year}`;
  }
  return (
    <div className="w-full mt-5">
      <table className="min-w-full  leading-normal">
        <thead className="bg-gray-100">
          <tr>
            <th className="px-5 py-3  bg-gray-100 text-left text-xs font-semibold text-gray-600 capitalize tracking-wider ">
              <div className="flex gap-1 items-center">
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 16 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M15.4896 3.97289C15.3264 3.58723 15.1248 3.21544 14.89 2.86765C14.6575 2.52359 14.3902 2.19981 14.0963 1.90536C13.8019 1.61092 13.4781 1.34421 13.134 1.11164C12.7863 0.876937 12.4145 0.674772 12.0288 0.511547C11.2265 0.172294 10.3747 0 9.49667 0C8.61867 0 7.7668 0.172294 6.96454 0.511547C6.57888 0.674772 6.20709 0.876404 5.8593 1.11164C5.51525 1.34421 5.19146 1.61145 4.89702 1.90536C4.60257 2.19981 4.33586 2.52359 4.10329 2.86765C3.86859 3.21544 3.66643 3.58723 3.50373 3.97289C3.16448 4.77515 2.99219 5.62701 2.99219 6.50448C2.99219 7.38249 3.16448 8.23435 3.50373 9.03661C3.66696 9.42227 3.86859 9.79407 4.10329 10.1419C4.33586 10.4864 4.60311 10.8097 4.89702 11.1041C5.19146 11.3986 5.51525 11.6653 5.8593 11.8984C6.20709 12.1331 6.57888 12.3353 6.96454 12.4985C7.7668 12.8377 8.61867 13.01 9.49667 13.01C10.3747 13.01 11.2265 12.8377 12.0288 12.4985C12.4145 12.3353 12.7863 12.1336 13.134 11.8984C13.4781 11.6658 13.8019 11.3986 14.0963 11.1041C14.3908 10.8097 14.6575 10.4859 14.89 10.1419C15.1248 9.79407 15.3269 9.42227 15.4896 9.03661C15.8289 8.23435 16.0012 7.38249 16.0012 6.50448C16.0012 5.62701 15.8289 4.77515 15.4896 3.97289ZM9.49614 11.9437C6.49674 11.9437 4.05689 9.50389 4.05689 6.50448C4.05689 3.50562 6.49674 1.06523 9.49614 1.06523C12.4955 1.06523 14.9354 3.50508 14.9354 6.50448C14.9354 9.50389 12.4955 11.9437 9.49614 11.9437Z"
                    fill="#2F4EFF"
                  />
                  <path
                    d="M3.24024 12.0076L0.156024 15.0918C-0.0520081 15.2998 -0.0520081 15.637 0.156024 15.845C0.260041 15.949 0.396595 16.0007 0.532616 16.0007C0.668638 16.0007 0.805192 15.949 0.909209 15.845L3.99342 12.7608C4.20146 12.5527 4.20146 12.2156 3.99342 12.0076C3.78593 11.7996 3.44827 11.7996 3.24024 12.0076Z"
                    fill="#2F4EFF"
                  />
                  <path
                    d="M6.4782 3.66797C6.18375 3.66797 5.94531 3.90641 5.94531 4.20085V8.86718C5.94531 9.16163 6.18375 9.40007 6.4782 9.40007C6.77264 9.40007 7.01108 9.16163 7.01108 8.86718V4.20085C7.01108 3.90641 6.77211 3.66797 6.4782 3.66797Z"
                    fill="#2F4EFF"
                  />
                  <path
                    d="M8.46648 3.66992C8.17203 3.66992 7.93359 3.90836 7.93359 4.20281V8.86914C7.93359 9.16358 8.17203 9.40202 8.46648 9.40202C8.76092 9.40202 8.99936 9.16358 8.99936 8.86914V4.20281C8.99883 3.90836 8.76039 3.66992 8.46648 3.66992Z"
                    fill="#2F4EFF"
                  />
                  <path
                    d="M12.4509 3.66797C12.1564 3.66797 11.918 3.90641 11.918 4.20085V8.86718C11.918 9.16163 12.1564 9.40007 12.4509 9.40007C12.7453 9.40007 12.9837 9.16163 12.9837 8.86718V4.20085C12.9837 3.90641 12.7453 3.66797 12.4509 3.66797Z"
                    fill="#2F4EFF"
                  />
                  <path
                    d="M10.4587 3.66797C10.1642 3.66797 9.92578 3.90641 9.92578 4.20085V8.86718C9.92578 9.16163 10.1642 9.40007 10.4587 9.40007C10.7531 9.40007 10.9915 9.16163 10.9915 8.86718V4.20085C10.9915 3.90641 10.7531 3.66797 10.4587 3.66797Z"
                    fill="#2F4EFF"
                  />
                </svg>
                Plan id
              </div>
            </th>
            <th className="px-5 py-3 bg-gray-100 text-left text-xs font-semibold text-gray-600 capitalize tracking-wider">
              <div className="flex gap-1 items-center">
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 16 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M13.3333 1.77778H14.2266C15.206 1.77778 16 2.5729 16 3.55028V14.2275C16 15.2064 15.2066 16 14.2266 16H1.77341C0.793983 16 0 15.2049 0 14.2275V3.55028C0 2.57135 0.793442 1.77778 1.77341 1.77778H2.66667V0.435981C2.66667 0.195195 2.87283 0 3.11111 0C3.35657 0 3.55556 0.191162 3.55556 0.435981V1.77778H12.4444V0.435981C12.4444 0.195195 12.6506 0 12.8889 0C13.1343 0 13.3333 0.191162 13.3333 0.435981V1.77778ZM13.3333 2.66667V3.11957C13.3333 3.36036 13.1272 3.55556 12.8889 3.55556C12.6434 3.55556 12.4444 3.36439 12.4444 3.11957V2.66667H3.55556V3.11957C3.55556 3.36036 3.34939 3.55556 3.11111 3.55556C2.86565 3.55556 2.66667 3.36439 2.66667 3.11957V2.66667H1.77341C1.28449 2.66667 0.888889 3.06215 0.888889 3.55028V14.2275C0.888889 14.7145 1.28546 15.1111 1.77341 15.1111H14.2266C14.7155 15.1111 15.1111 14.7156 15.1111 14.2275V3.55028C15.1111 3.06327 14.7145 2.66667 14.2266 2.66667H13.3333ZM0.888889 4.44444H15.1111V5.33333H0.888889V4.44444ZM11.5556 7.55972C11.5556 7.31196 11.7458 7.11111 12.0042 7.11111H12.8847C13.1325 7.11111 13.3333 7.30136 13.3333 7.55972V8.44028C13.3333 8.68804 13.1431 8.88889 12.8847 8.88889H12.0042C11.7564 8.88889 11.5556 8.69864 11.5556 8.44028V7.55972ZM7.11111 7.55972C7.11111 7.31196 7.30136 7.11111 7.55972 7.11111H8.44028C8.68804 7.11111 8.88889 7.30136 8.88889 7.55972V8.44028C8.88889 8.68804 8.69864 8.88889 8.44028 8.88889H7.55972C7.31196 8.88889 7.11111 8.69864 7.11111 8.44028V7.55972ZM2.66667 7.55972C2.66667 7.31196 2.85692 7.11111 3.11528 7.11111H3.99584C4.2436 7.11111 4.44444 7.30136 4.44444 7.55972V8.44028C4.44444 8.68804 4.25419 8.88889 3.99584 8.88889H3.11528C2.86752 8.88889 2.66667 8.69864 2.66667 8.44028V7.55972ZM2.66667 12.0042C2.66667 11.7564 2.85692 11.5556 3.11528 11.5556H3.99584C4.2436 11.5556 4.44444 11.7458 4.44444 12.0042V12.8847C4.44444 13.1325 4.25419 13.3333 3.99584 13.3333H3.11528C2.86752 13.3333 2.66667 13.1431 2.66667 12.8847V12.0042ZM7.11111 12.0042C7.11111 11.7564 7.30136 11.5556 7.55972 11.5556H8.44028C8.68804 11.5556 8.88889 11.7458 8.88889 12.0042V12.8847C8.88889 13.1325 8.69864 13.3333 8.44028 13.3333H7.55972C7.31196 13.3333 7.11111 13.1431 7.11111 12.8847V12.0042ZM11.5556 12.0042C11.5556 11.7564 11.7458 11.5556 12.0042 11.5556H12.8847C13.1325 11.5556 13.3333 11.7458 13.3333 12.0042V12.8847C13.3333 13.1325 13.1431 13.3333 12.8847 13.3333H12.0042C11.7564 13.3333 11.5556 13.1431 11.5556 12.8847V12.0042Z"
                    fill="#DB3022"
                  />
                </svg>
                Subscribe Date
              </div>
            </th>

            <th className="px-5 py-3  bg-gray-100 text-left text-xs font-semibold text-gray-600 capitalize tracking-wider">
              <div className="flex gap-1 items-center">
                <svg
                  width="14"
                  height="17"
                  viewBox="0 0 14 17"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M13.8859 4.16182L7.11407 0.0322908C7.04356 -0.0107636 6.95661 -0.0107636 6.88593 0.0322908L0.114066 4.16182C0.043562 4.20488 0 4.28434 0 4.37044V12.6295C0 12.7156 0.0433871 12.7951 0.114066 12.8381L6.88593 16.9677C6.92127 16.9893 6.96064 17 7 17C7.03936 17 7.07873 16.9893 7.11407 16.9677L13.8859 12.8381C13.9564 12.7951 14 12.7156 14 12.6295V4.37044C14 4.28434 13.9564 4.20488 13.8859 4.16182ZM7 8.22169L5.03586 7.02393L11.3516 3.17268L13.3156 4.37044L7 8.22169ZM2.87631 6.26355L4.35164 7.16326V9.70476L2.87631 8.80505V6.26355ZM3.10444 5.84631L9.42022 1.99506L10.8956 2.89477L4.57978 6.74583L3.10444 5.84631ZM7 0.51901L8.96396 1.71659L2.64836 5.56802L0.684395 4.37026L7 0.51901ZM0.456263 4.78768L2.42022 5.98545V8.9442C2.42022 9.0303 2.46361 9.10976 2.53429 9.15282L4.46571 10.3306C4.50105 10.3521 4.54041 10.363 4.57978 10.363C4.61914 10.363 4.6585 10.3522 4.69384 10.3306C4.76435 10.2876 4.80791 10.2081 4.80791 10.122V7.44135L6.77204 8.63912V16.342L0.456263 12.4904V4.78768ZM7.22813 16.3418V8.63893L13.5437 4.78768V12.4906L7.22813 16.3418Z"
                    fill="#00D67B"
                  />
                </svg>
                Plan name
              </div>
            </th>
            <th className="px-5 py-3  bg-gray-100 text-left text-xs font-semibold text-gray-600 capitalize tracking-wider ">
              <div className="flex gap-1 items-center">
                <svg
                  width="21"
                  height="18"
                  viewBox="0 0 21 18"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g opacity="0.4">
                    <path
                      d="M16.6154 1.03846C16.6154 0.463846 16.1515 0 15.5769 0H10.7308H6.57692H1.03846C0.463846 0 0 0.463846 0 1.03846V16.2692C0 16.8438 0.463846 17.3077 1.03846 17.3077H11.1392C11.2846 17.7092 11.6654 18 12.1154 18H19.0385C19.6131 18 20.0769 17.5362 20.0769 16.9615V10.0385C20.0769 9.46385 19.6131 9 19.0385 9H16.6154V1.03846ZM6.92308 0.692308H10.3846V2.07692H6.92308V0.692308ZM6.92308 2.76923H10.3846V5.04692L10.2808 4.94308C10.1423 4.80462 9.92769 4.80462 9.78923 4.94308L9.34615 5.39308L8.89615 4.94308C8.83385 4.88077 8.74385 4.84615 8.65385 4.84615C8.56385 4.84615 8.47385 4.88077 8.41154 4.95L7.96154 5.39308L7.51154 4.94308C7.37308 4.80462 7.15846 4.80462 7.02 4.94308L6.91615 5.04692V2.76923H6.92308ZM11.0769 10.0385V16.6154H1.03846C0.844615 16.6154 0.692308 16.4631 0.692308 16.2692V1.03846C0.692308 0.844615 0.844615 0.692308 1.03846 0.692308H6.23077V5.88462C6.23077 6.02308 6.31385 6.14769 6.44538 6.20308C6.57692 6.25846 6.72231 6.22385 6.81923 6.12692L7.26923 5.68385L7.71923 6.13385C7.85769 6.27231 8.07231 6.27231 8.21077 6.13385L8.65385 5.68385L9.10385 6.13385C9.24231 6.27231 9.45692 6.27231 9.59539 6.13385L10.0385 5.68385L10.4885 6.13385C10.5508 6.19615 10.6408 6.23077 10.7308 6.23077C10.7723 6.23077 10.8208 6.22385 10.8623 6.20308C10.9938 6.14769 11.0769 6.02308 11.0769 5.88462V0.692308H15.5769C15.7708 0.692308 15.9231 0.844615 15.9231 1.03846V9H12.1154C11.5408 9 11.0769 9.46385 11.0769 10.0385ZM19.0385 9.69231C19.2323 9.69231 19.3846 9.84462 19.3846 10.0385V16.9615C19.3846 17.1554 19.2323 17.3077 19.0385 17.3077H12.1154C11.9215 17.3077 11.7692 17.1554 11.7692 16.9615V10.0385C11.7692 9.84462 11.9215 9.69231 12.1154 9.69231H19.0385Z"
                      fill="#FF9900"
                    />
                    <path
                      d="M14.1938 15.2309C14 15.2309 13.8477 15.3832 13.8477 15.5771C13.8477 15.7709 14 15.9232 14.1938 15.9232H15.2323V16.2694C15.2323 16.4632 15.3846 16.6155 15.5784 16.6155C15.7723 16.6155 15.9246 16.4632 15.9246 16.2694V15.9232C16.6861 15.9232 17.3092 15.3002 17.3092 14.5386C17.3092 13.7771 16.6861 13.154 15.9246 13.154V11.7694H16.963C17.1569 11.7694 17.3092 11.6171 17.3092 11.4232C17.3092 11.2294 17.1569 11.0771 16.963 11.0771H15.9246V10.7309C15.9246 10.5371 15.7723 10.3848 15.5784 10.3848C15.3846 10.3848 15.2323 10.5371 15.2323 10.7309V11.0771C14.4707 11.0771 13.8477 11.7002 13.8477 12.4617C13.8477 13.2232 14.4707 13.8463 15.2323 13.8463V15.2309H14.1938ZM15.9246 13.8463C16.3053 13.8463 16.6169 14.1578 16.6169 14.5386C16.6169 14.9194 16.3053 15.2309 15.9246 15.2309V13.8463ZM14.54 12.4617C14.54 12.0809 14.8515 11.7694 15.2323 11.7694V13.154C14.8515 13.154 14.54 12.8425 14.54 12.4617Z"
                      fill="#FF9900"
                    />
                  </g>
                </svg>
                plan price
              </div>
            </th>
          </tr>
        </thead>
        <tbody className="capitalize">
          {data?.length > 0 &&
            data.map((data) => {
              return (
                <tr>
                  <td className="px-5 py-3">{data?.subscriptionId}</td>
                  <td className="px-5 py-3">
                    {formatDate(data?.subscriptionDate)}
                  </td>
                  <td className="px-5 py-3">{data?.planName}</td>
                  <td className="px-8 py-3">${data?.planPrice?.toFixed()}</td>
                </tr>
              );
            })}
        </tbody>
      </table>
      {/* {loading && (
        <div className="w-full p-4 flex items-center justify-center">
          <img src="/loading.gif" className="w-32" alt="" />
        </div>
      )} */}
      {data.length < 1 && !loading && (
        <div className="text-red-500 text-center p-4">Oops No Data</div>
      )}
    </div>
  );
}

export default FlixTable;
